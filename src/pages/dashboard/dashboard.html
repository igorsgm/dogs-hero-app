<ion-header>
	<ion-navbar color="primary">
		<button ion-button menuToggle>
			<ion-icon name="menu"></ion-icon>
		</button>
		<ion-title text-uppercase>Dashboard</ion-title>
	</ion-navbar>
	
	<ion-toolbar no-border>
		<ion-title>
			<h4 ion-text class="font-semi-bold">
				<span>{{user.username}}</span>
			</h4>
		</ion-title>
	</ion-toolbar>
</ion-header>


<ion-content>
	
	<ion-grid>
		<ion-row>
			<ion-col col-6>
				<h6 *ngIf="avatar" text-uppercase text-center class="font-bold" ion-text no-margin margin-bottom color="secondary">LEVEL {{avatar.av_level_id}}</h6>
				<div class="avatar">
					<div text-center>
						<div data-ring="" class="ring">
							<div class="ring-progress" data-ring-progress=""></div>
						</div>
						<ion-img src="assets/imgs/dashboard/dog_avatar.png" width="85" height="85"></ion-img>
					</div>
					<div>
						<div>
							<p *ngIf="level" text-uppercase text-center no-margin class="font-semi-bold" ion-text color="secondary">{{ringPercent >= 100 ? 'READY TO LEVEL UP!' : (level.points + '/' + level.level_req + ' PTS')}}</p>
						</div>
						<p *ngIf="breed" text-uppercase text-center no-margin ion-text color="gray">{{breed.name}}</p>
						<div text-uppercase text-center no-margin ion-text class="link-bellow-icon">
							<button ion-button clear small color="primary" class="font-semi-bold" (click)="openAvatarPage()">
								<small>EDIT AVATAR</small>
							</button>
						</div>
					</div>
				</div>
			</ion-col>
			
			<ion-col col-6>
				<div>
					<h6 text-uppercase class="font-semi-bold" ion-text color="gray">BARKLEY PTS</h6>
					<div padding-horizontal>
						<div>
							<ion-img src="assets/imgs/icons/icon_coin.png" width="27" height="27"></ion-img>
							<h5 *ngIf="user" text-center text-uppercase ion-text color="gray" class="inline-icon-number font-bold">{{user.points}}</h5>
						</div>
						<div class="link-bellow-icon">
							<button ion-button clear small text-uppercase color="primary" class="font-semi-bold" (click)="openCreditPage()">
								<span>BUY MORE</span>
							</button>
						</div>
					</div>
				</div>
				<div>
					<h6 text-uppercase class="font-semi-bold" ion-text color="gray">MISSIONS</h6>
					<div padding-horizontal>
						<ion-col col-3>
							<ion-img src="assets/imgs/icons/icon_done.png" width="27" height="27"></ion-img>
							<h5 *ngIf="completedMissions" text-center text-uppercase ion-text color="gray" class="inline-icon-number font-bold">{{completedMissions.length}}</h5>
						</ion-col>
						<ion-col col-3 margin-left>
							<ion-img src="assets/imgs/icons/icon_clock.png" width="27" height="27"></ion-img>
							<h5 *ngIf="pendingMissions" text-center text-uppercase ion-text color="gray" class="inline-icon-number font-bold">{{pendingMissions.length}}</h5>
						</ion-col>
						<div class="link-bellow-icon">
							<button ion-button clear small text-uppercase color="primary" class="font-semi-bold" (click)="openUserPage()">
								<span>VIEW</span>
							</button>
						</div>
					</div>
				</div>
			</ion-col>
		</ion-row>
	</ion-grid>
	
	
	<ion-item-divider margin-top>
		<h2 text-uppercase>MISSIONS EXPIRING</h2>
	</ion-item-divider>
	
	<div *ngIf="pendingMissions">
		<div *ngFor='let pendingMission of pendingMissions'>
			<mission-card [mission]="pendingMission.mission"></mission-card>
		</div>
	</div>
</ion-content>
